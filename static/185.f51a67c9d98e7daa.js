"use strict";(self.webpackChunktemplate=self.webpackChunktemplate||[]).push([[185],{9185:(J,m,l)=>{l.r(m),l.d(m,{LoginPageModule:()=>U});var p=l(6895),u=l(3599),d=l(1651),c=l(4025),r=l(433),o=l(1571),v=l(2340),f=l(529);let h=(()=>{class e{constructor(n){this.httpClient=n}login(n){return this.httpClient.post(`${v.N.BASE_URL}auth/login`,n)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(f.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var L=l(7185),S=l(791),s=l(6524);let Z=(()=>{class e{constructor(n){this.socialAuthService=n}initiateGoogleAuthentication(){return this.socialAuthService.authState}signinWithGoogle(){return this.socialAuthService.signIn(s.tV.PROVIDER_ID)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(s.xE))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function T(e,i){1&e&&(o.TgZ(0,"p",17),o._uU(1," Please enter a valid email address "),o.qZA())}function P(e,i){1&e&&(o.TgZ(0,"p",17),o._uU(1," Email is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}function F(e,i){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,T,2,0,"p",16),o.YNc(2,P,4,0,"p",16),o.qZA()),2&e){const n=o.oxw();let t,a;o.xp6(1),o.Q6J("ngIf",(null==(t=n.loginForm.get("email"))?null:t.hasError("pattern"))&&!(null!=(t=n.loginForm.get("email"))&&t.hasError("required"))),o.xp6(1),o.Q6J("ngIf",null==(a=n.loginForm.get("email"))?null:a.hasError("required"))}}function A(e,i){1&e&&(o.TgZ(0,"p",17),o._uU(1," Password is "),o.TgZ(2,"strong"),o._uU(3,"required"),o.qZA()())}function I(e,i){if(1&e&&(o.TgZ(0,"div"),o.YNc(1,A,4,0,"p",16),o.qZA()),2&e){const n=o.oxw();let t;o.xp6(1),o.Q6J("ngIf",null==(t=n.loginForm.get("password"))?null:t.hasError("required"))}}const C=[{path:"",component:(()=>{class e{constructor(n,t,a,g){this.loginPageService=n,this.toastr=t,this.storageService=a,this.socialLoginService=g}ngOnInit(){this.prepareLoginForm(),this.socialLoginService.initiateGoogleAuthentication().subscribe(n=>{console.log(n)})}prepareLoginForm(){this.loginForm=new r.nJ({email:new r.p4("",[r.kI.required,r.kI.pattern(d.u.EmailPattern)]),password:new r.p4("",[r.kI.required])})}googleLogin(){this.socialLoginService.signinWithGoogle().then(n=>{console.log(n)})}userLogin(){console.log(this.loginForm.value),this.loginPageService.login(this.loginForm.value).subscribe(n=>{this.toastr.success("Login Successfull"),this.storageService.setDataToLocalStorage(c.I.ACCESS_TOKEN,n.accessToken),this.storageService.setDataToLocalStorage(c.I.USER_ID,n.userId),this.storageService.setDataToLocalStorage(c.I.ROLE,n.roles[0])},n=>{this.toastr.error("Invalid Login Details")})}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(h),o.Y36(L._W),o.Y36(S.V),o.Y36(Z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login-page"]],decls:30,vars:6,consts:[[1,"bg-pattern-style"],[1,"content"],[1,"account-content"],[1,"account-box"],[1,"login-right"],[1,"login-header"],[3,"formGroup","ngSubmit"],[1,"form-group"],[1,"form-control-label"],["type","email","name","email","id","email","formControlName","email",1,"form-control","floating"],[4,"ngIf"],["type","password","name","password","id","password","formControlName","password",1,"form-control","floating"],["type","submit",1,"btn","btn-primary","w-100","btn-lg","login-btn",3,"disabled"],[1,"text-center","dont-have"],[1,"me-2",3,"routerLink"],[3,"routerLink"],["class","feild-error",4,"ngIf"],[1,"feild-error"]],template:function(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),o._uU(7,"Login "),o.TgZ(8,"span"),o._uU(9,"Online Tutor"),o.qZA()()(),o.TgZ(10,"form",6),o.NdJ("ngSubmit",function(){return t.userLogin()}),o.TgZ(11,"div",7)(12,"label",8),o._uU(13,"Email Address"),o.qZA(),o._UZ(14,"input",9),o.YNc(15,F,3,2,"div",10),o.qZA(),o.TgZ(16,"div",7)(17,"label",8),o._uU(18,"Password"),o.qZA(),o._UZ(19,"input",11),o.YNc(20,I,2,1,"div",10),o.qZA(),o.TgZ(21,"button",12),o._uU(22,"Login"),o.qZA(),o.TgZ(23,"div",13),o._uU(24,"Don\u2019t have an account? "),o.TgZ(25,"a",14),o._uU(26,"Register"),o.qZA(),o.TgZ(27,"a",15),o._uU(28,"Home"),o.qZA()(),o._UZ(29,"asl-google-signin-button"),o.qZA()()()()()()),2&n){let a,g;o.xp6(10),o.Q6J("formGroup",t.loginForm),o.xp6(5),o.Q6J("ngIf",(null==(a=t.loginForm.get("email"))?null:a.invalid)&&((null==(a=t.loginForm.get("email"))?null:a.dirty)||(null==(a=t.loginForm.get("email"))?null:a.touched))),o.xp6(5),o.Q6J("ngIf",(null==(g=t.loginForm.get("password"))?null:g.invalid)&&((null==(g=t.loginForm.get("password"))?null:g.dirty)||(null==(g=t.loginForm.get("password"))?null:g.touched))),o.xp6(1),o.Q6J("disabled",t.loginForm.invalid),o.xp6(4),o.Q6J("routerLink","/register"),o.xp6(2),o.Q6J("routerLink","")}},dependencies:[p.O5,u.yS,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,s.TI],styles:[".feild-error[_ngcontent-%COMP%]{color:#eb8989}"]}),e})()}];let y=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[u.Bz.forChild(C),u.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez,y,r.u5,r.UX,s.RB]}),e})()}}]);